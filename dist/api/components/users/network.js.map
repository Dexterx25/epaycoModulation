{"version":3,"file":"network.js","sourceRoot":"","sources":["../../../../src/api/components/users/network.ts"],"names":[],"mappings":"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","sourcesContent":["import { Router, Request, Response, NextFunction} from \"express\";\nimport controller from \"./index\";\nconst {ServerResponse, ConsoleResponse} = require('../../../utils/responses/index')\nimport secure from './secure'\nconst router: Router = Router()\n\nimport multer from 'multer'\nimport mimeTypes from 'mime-types'\n\nconst storage = multer.diskStorage({\n    destination: 'public/photos',\n    filename: function(req: Request, file : any, cb : any){\n        cb(\"\", Date.now() + \".\"+ file.originalname )\n    }\n})\n\nconst upload = multer({\n  storage: storage,   \n });\n\nrouter.post('/register', upload.single('file'), upsert)\n// router.post('/register/facebook', upsertFacebook)\n// router.post('/register/ios', upsertIOS)\nrouter.get('/', secure('get'), get)\nrouter.get('/list',  secure('list'), list)\nrouter.put('/update',  secure('update'),  update)\n// router.get('/filter', secure('filter'), filter)\nlet procedence : string = \"USER NETWORK\"\n\nasync function upsert(req: Request, res: Response, next: NextFunction ) {\n  console.log('This IS The File:', req.files)\n\nconst datas: object = {\n   type:'email_register',\n   datas:req.body,\n   files:req.files\n }\n console.log('UPSERTTTTT')\n console.log('body--->', datas)\n await controller.insert(datas)\n     .then((respon:any)=>{\n        ConsoleResponse.success(procedence, respon)\n        ServerResponse.success(req, res, respon, 200)\n     })\n     .catch(next)\n     \n}\n\nasync function get(req:Request, res:Response, next:NextFunction){\n   const {filter} :any = req.query\n   const data = {\n     filter,\n     token:req.headers.authorization\n   }\n   console.log('datass-->', data)\n  \n   controller.get(data).then((dataUser:any)=>{\n       ConsoleResponse.success(procedence, dataUser)\n       ServerResponse.success(req, res, dataUser, 200)\n   })\n   .catch(next)\n}\n\nasync function list(req:Request, res:Response, next:NextFunction){\n\n   const data :any = {\n       type:req.body.type,\n       token:req.headers.authorization\n   } \n        controller.list(data) \n       .then((respon) => {\n           ServerResponse.success(req, res, respon, 200)\n       })\n       .catch(next)\n}\n\nasync function update (req:Request, res:Response, next:NextFunction){\n   const data = {\n       token:req.headers.authorization,\n      }\n\ncontroller.update(Object.assign(data, req.body)) \n  .then((datasAlter)=>{\n    ServerResponse.success(req, res, datasAlter, 202)\n   })\n  \n  .catch(next)\n  \n}\nexport default router"]}